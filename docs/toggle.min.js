class Spry{static elements=[];static toggle=function(e){var t=null,l=null,o="toggle",s=null;"string"==typeof e?t=document.querySelector(e):e&&e.el&&e.togglers?t=e.el:e&&e.target?this.elements.forEach((l=>{l.togglers&&l.togglers.forEach((s=>{s.el===e.target&&(t=l.el,o=s.action?s.action:"toggle")}))})):e&&e.tagName&&(t=e),console.log([t,o]),this.elements.forEach((e=>{if(e.el===t){l=!0;var g=1===e.togglers.length&&e.togglers[0].el===e.el;s="toggle"===o?g?"true"!==e.el.getAttribute("aria-pressed"):!e.el.classList.contains("open"):"open"===o,console.log(s),g?e.el.setAttribute("aria-pressed",s):(e.el.classList.toggle("open",s),e.togglers.forEach((e=>{e.el.setAttribute("aria-pressed",s)})))}})),!l&&t&&t.classList.toggle("open")};static closeToggle=function(){var e=!1,t=event.target.closest(".open");t&&(this.elements.forEach((l=>{l.el===t&&(e=!0,this.toggle(l))})),e||this.toggle(t))};static closeAllToggles=function(){var e=event&&event.type&&"click"===event.type?event.target:null,t=event&&event.type&&"keyup"===event.type&&event.keyCode&&27===event.keyCode;(!event||e||t)&&this.elements.forEach((t=>{if([null,0,!1,"false"].includes(t.el.getAttribute("data-toggle-persistent"))&&t.el.classList.contains("open")&&(!e||e&&t.el!==e&&!t.el.contains(e))){var l=!1;t.togglers.forEach((t=>{(t.el===e||t.el.contains(e))&&(l=!0)})),l||this.toggle(t)}}))};static loadToggles=function(){document.querySelectorAll("[data-toggle]").forEach((e=>{var t=e.getAttribute("data-toggle"),l=[],o=e.getAttribute("data-toggle-action"),s=o&&["open","close","toggle"].includes(o)?o:"toggle";if(t)if("next"===t)l=[e.nextElementSibling];else if("close"===t)l=["close"];else{if("hover"===t)return;l=document.querySelectorAll(t)}else l=[e];l.length&&l.forEach((t=>{var l=!1,o=!1;this.elements.forEach((g=>{g.el===t&&(l=!0,o=!1,g.togglers.forEach((t=>{t.el===e&&(o=!0)})),o||g.togglers.push({el:e,action:s}))})),l||"close"===t||this.elements.push({el:t,togglers:[{el:e,action:s}]})}))})),document.addEventListener("click",this.closeAllTogglesBound),document.addEventListener("keyup",this.closeAllTogglesBound),document.querySelectorAll("[data-toggle=close]").forEach((e=>{e.removeEventListener("click",this.closeToggleBound),e.addEventListener("click",this.closeToggleBound)})),this.elements.forEach((e=>{e.togglers.forEach((e=>{e.el.removeEventListener("click",this.toggleBound),e.el.addEventListener("click",this.toggleBound)}))}))};static closeToggleBound=this.closeToggle.bind(this);static closeAllTogglesBound=this.closeAllToggles.bind(this);static toggleBound=this.toggle.bind(this)}"complete"===document.readyState||"interactive"===document.readyState?Spry.loadToggles():document.addEventListener("DOMContentLoaded",Spry.loadToggles);