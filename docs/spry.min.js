/**!
 * Spry Toggle JS
 *
 * Version: 1.0.0
 * Author: gedde.dev
 * Github: https://github.com/ggedde/spry-css
 */
class Spry{static elements=[];static toggle=function(e){var t=null,l=null,o="toggle",s=null,r=null;"string"==typeof e?t=document.querySelector(e):e&&e.el&&e.togglers?t=e.el:e&&e.target?this.elements.forEach((l=>{l.togglers&&l.togglers.forEach((s=>{s.el===e.target&&(t=l.el,o=s.action?s.action:"toggle")}))})):e&&e.tagName&&(t=e),this.elements.forEach((e=>{e.el===t&&(l=!0,r=1===e.togglers.length&&e.togglers[0].el===e.el,s="toggle"===o?r?"true"!==e.el.getAttribute("aria-pressed"):!e.el.classList.contains("open"):"open"===o,r?e.el.setAttribute("aria-pressed",s):(e.el.classList.toggle("open",s),e.togglers.forEach((e=>{e.el.setAttribute("aria-pressed",s)}))))})),!l&&t&&t.classList.toggle("open")};static closeToggle=function(){var e=!1,t=event.target.closest(".open");t&&(this.elements.forEach((l=>{l.el===t&&(e=!0,this.toggle(l))})),e||this.toggle(t))};static closeAllToggles=function(){var e=event&&event.type&&"click"===event.type?event.target:null,t=event&&event.type&&"keyup"===event.type&&event.keyCode&&27===event.keyCode,l=null,o=null;(!event||e||t)&&this.elements.forEach((t=>{[null,0,!1,"false"].includes(t.el.getAttribute("data-toggle-persistent"))&&t.el.classList.contains("open")&&(!e||e&&t.el!==e&&!t.el.contains(e))&&(l=!1,o=!1,t.togglers.forEach((t=>{(t.el===e||t.el.contains(e))&&(l=!0),[null,0,!1,"false"].includes(t.el.getAttribute("data-toggle-persistent"))||(o=!0)})),l||o||this.toggle(t))}))};static loadToggles=function(){document.querySelectorAll("[data-toggle]").forEach((e=>{var t=e.getAttribute("data-toggle"),l=[],o=e.getAttribute("data-toggle-action"),s=o&&["open","close","toggle"].includes(o)?o:"toggle";if(t)if("next"===t)l=[e.nextElementSibling];else if("close"===t)l=["close"];else{if("hover"===t)return;l=document.querySelectorAll(t)}else l=[e];l.length&&l.forEach((t=>{var l=!1,o=!1;this.elements.forEach((r=>{r.el===t&&(l=!0,o=!1,r.togglers.forEach((t=>{t.el===e&&(o=!0)})),o||r.togglers.push({el:e,action:s}))})),l||"close"===t||this.elements.push({el:t,togglers:[{el:e,action:s}]})}))})),document.addEventListener("click",this.closeAllTogglesBound),document.addEventListener("keyup",this.closeAllTogglesBound),document.querySelectorAll("[data-toggle=close]").forEach((e=>{e.removeEventListener("click",this.closeToggleBound),e.addEventListener("click",this.closeToggleBound)})),this.elements.forEach((e=>{e.togglers.forEach((e=>{e.el.removeEventListener("click",this.toggleBound),e.el.addEventListener("click",this.toggleBound)}))}))};static loadSliders=function(){document.querySelectorAll(".slider").forEach((e=>{if(!e.hasAttribute("data-loaded")){var t=parseInt(e.getAttribute("data-play")),l=e.hasAttribute("data-loop"),o=e.getAttribute("data-stop"),s=e.querySelector(".slider-slides"),r=s.childElementCount,n=e.querySelector(".slider-next"),i=e.querySelector(".slider-prev"),a=e.querySelector(".slider-pagination"),c=s.scrollWidth,d=s.innerHTML,g=null,u=null,h=!1;if(n||i||l||o||t){var goTo=(t,o)=>{var n=l?r:0;"next"===t?s.scrollBy(e.offsetWidth,0):"prev"===t?s.scrollBy(-s.offsetWidth,0):s.scrollTo({left:s.children[t+n].offsetLeft,behavior:o?"instant":"smooth"})},resetPlay=()=>{u&&(clearInterval(u),u=null),t&&(u=setInterval((()=>{var t="action"===o&&(e.querySelector("a:hover")||e.querySelector("button:hover")),l="hover"===o&&e.matches(":hover");t||l||goTo("next")}),t))};if(n&&n.addEventListener("click",(()=>{goTo("next")})),i&&i.addEventListener("click",(()=>{goTo("prev")})),a&&!a.childNodes.length&&s&&r)for(let e=0;e<r;e++){let t=document.createElement("button");0===e&&t.classList.add("active"),t.onclick=()=>{goTo(e),a.childNodes.forEach((e=>{e.classList.remove("active")})),t.classList.add("active")},a.append(t)}s.addEventListener("scroll",(()=>{e.setAttribute("data-sliding",""),e.removeAttribute("data-position"),g&&clearTimeout(g),u&&(clearInterval(u),u=null),g=setTimeout((function(){if(e.removeAttribute("data-sliding"),resetPlay(),l){var t=s.scrollWidth/3;if(s.scrollLeft<t){var o=t-s.scrollLeft;s.scrollTo({left:2*t-o,behavior:"instant"})}if(s.scrollLeft>=2*t){o=s.scrollLeft-2*t;s.scrollTo({left:t+o,behavior:"instant"})}}else s.scrollLeft?s.scrollLeft+e.offsetWidth>=s.scrollWidth-2&&e.setAttribute("data-position","end"):e.setAttribute("data-position","start");e.querySelectorAll(".slider-slides > *").forEach((t=>{t.removeAttribute("data-first"),t.removeAttribute("data-last");var l=Math.round(t.getBoundingClientRect().left-e.getBoundingClientRect().left);t.toggleAttribute("data-showing",l>=0&&l<e.clientWidth)}));var n=e.querySelectorAll("[data-showing]");if(n.length){if(a){a.querySelectorAll(".active").forEach((e=>{e.classList.remove("active")}));var i=Array.from(s.children).indexOf(n[0]);l&&(i=i===2*r?0:i-r),void 0!==i&&a.children[i].classList.add("active")}n[0].setAttribute("data-first",""),n[n.length-1].setAttribute("data-last","");var preLoadImages=function(e,t,l){for(var o=0,s=[];e="next"===t?e.nextSibling:e.previousSibling;)o>=l||!e.nodeType||3===e.nodeType||("IMG"===e.tagName&&"lazy"===e.getAttribute("loading").toLowerCase()?s.push(e.src):e.querySelectorAll('img[loading="lazy"]').forEach((e=>{s.push(e.src)})),o++);s.forEach((e=>{(new Image).src=e}))};preLoadImages(e.querySelector("[data-last]"),"next",n.length),preLoadImages(e.querySelector("[data-last]"),"prev",n.length)}}),100)})),l?(s.innerHTML+=d+d,s.scrollTo({left:c,behavior:"instant"})):(s.dispatchEvent(new CustomEvent("scroll")),e.setAttribute("data-position","start")),resetPlay(),t&&("hover"===o&&(e.addEventListener("mouseout",(()=>{resetPlay()})),e.addEventListener("mouseover",(()=>{u&&(clearInterval(u),u=null)}))),"action"===o&&(document.addEventListener("selectionchange",(()=>{h&&document.getSelection().toString()&&u&&(clearInterval(u),u=null),h||document.getSelection().toString()||u||resetPlay()})),e.addEventListener("selectstart",(()=>{h=!0})),e.addEventListener("mouseup",(()=>{h=!1})))),e.setAttribute("data-loaded","")}}}))};static closeToggleBound=this.closeToggle.bind(this);static closeAllTogglesBound=this.closeAllToggles.bind(this);static toggleBound=this.toggle.bind(this)}"complete"===document.readyState||"interactive"===document.readyState?(Spry.loadToggles(),Spry.loadSliders()):(document.addEventListener("DOMContentLoaded",Spry.loadToggles),document.addEventListener("DOMContentLoaded",Spry.loadSliders));