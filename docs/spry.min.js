/**!
 * Spry Toggle JS
 *
 * Version: 1.0.0
 * Author: gedde.dev
 * Github: https://github.com/ggedde/spry-css
 */
class Spry{static elements=[];static toggle=function(e,t){var l=null,o=null,s=t&&["open","close","toggle"].includes(t)?t:"toggle",i=null,r=null,n=null;if(e&&e.type&&("keyup"===e.type||"keydown"===e.type)){if("keydown"===e.type&&[13,32].includes(e.keyCode)&&e.preventDefault(),"keyup"===e.type&&40===e.keyCode||"keydown"===e.type&&40!==e.keyCode||![40,13,32].includes(e.keyCode))return;40===e.keyCode&&(n=!0)}if("string"==typeof e)if(event&&event.target&&e.indexOf("{")>-1&&e.indexOf("}")>0){var a=event.target.closest(e.substring(e.indexOf("{")+1,e.indexOf("}")));l=a.querySelector(e.substring(e.indexOf("}")+1))}else l=document.querySelector(e);else e&&e.el&&e.togglers?l=e.el:e&&e.target?this.elements.forEach((t=>{t.togglers&&t.togglers.forEach((o=>{r=!1,o.el===e.target&&(l=t.el,s=o.action?o.action:"toggle",o.el===t.el&&(r=!0))}))})):e&&e.tagName&&(l=e);if(n){if(l.classList.contains("open")){var c=l.querySelector("a, button, input, .button, label");c&&(e.preventDefault(),c.focus())}}else e&&e.type&&("keyup"===e.type||"keydown"===e.type)&&e.preventDefault(),this.elements.forEach((e=>{e.el===l&&(o=!0,i="toggle"===s?r?"true"!==e.el.getAttribute("aria-pressed"):!e.el.classList.contains("open"):"open"===s,r?e.el.setAttribute("aria-pressed",i):(e.el.classList.toggle("open",i),e.el.setAttribute("aria-expanded",i),e.togglers.forEach((e=>{e.el.setAttribute("aria-pressed",i)}))))})),!o&&l&&l.classList.toggle("open")};static closeToggle=function(e){var t=e;if(e&&e.type&&"keyup"===e.type){if(![13,32].includes(e.keyCode))return;e.preventDefault()}"string"==typeof e?t=event&&event.target&&e.indexOf("{")>-1&&e.indexOf("}")>0?event.target.closest(e.substring(e.indexOf("{")+1,e.indexOf("}"))).querySelector(e.substring(e.indexOf("}")+1)):document.querySelector(e):e&&e.el&&e.togglers?t=e:e&&e.target&&(t=e.target.getAttribute("data-toggle-close")||e.target.closest(".open"));t&&this.toggle(t,"close")};static timeoutToggle=function(e){this.elements.forEach((t=>{t.togglers.forEach((l=>{if(l.el===e.target){var o=parseInt(e.target.getAttribute("data-toggle-timeout"))||3e3;o&&o>0&&setTimeout((()=>{this.toggle(t,"close")}),o)}}))}))};static closeAllToggles=function(e){var t=e&&e.type&&"click"===e.type?e.target:null,l=e&&e.type&&"keyup"===e.type&&e.keyCode&&27===e.keyCode,o=e&&e.type&&"keyup"===e.type&&e.keyCode&&32===e.keyCode,s=e&&e.type&&"keyup"===e.type&&e.keyCode&&13===e.keyCode,i=null,r=null,n=null,a=null,c=null;(!e||t||l)&&this.elements.forEach((e=>{(!t||t&&e.el!==t&&!e.el.contains(t))&&(i=!1,r=!1,a=["",!0,"true"].includes(e.el.getAttribute("data-toggle-escapable")),e.togglers.forEach((e=>{(e.el===t||e.el.contains(t))&&(i=!0),["",!0,"true"].includes(e.el.getAttribute("data-toggle-escapable"))&&(r=!0)})),i||!r&&!a||(e.el.classList.contains("open")&&this.toggle(e),e.el.classList.add("dismissed"),setTimeout((()=>{e.el.classList.remove("dismissed")}),500)))})),(t||o||s)&&["A","BUTTON","LABEL","INPUT"].includes(e.target.tagName)&&!e.target.hasAttribute("data-toggle")&&this.elements.forEach((t=>{t.el.contains(e.target)&&(n=!1,c=["",!0,"true"].includes(t.el.getAttribute("data-toggle-dismissible")),t.togglers.forEach((e=>{["",!0,"true"].includes(e.el.getAttribute("data-toggle-dismissible"))&&(n=!0)})),(n||c)&&(t.el.classList.contains("open")&&this.toggle(t),t.el.classList.add("dismissed"),setTimeout((()=>{t.el.classList.remove("dismissed")}),500)))}))};static loadToggles=function(){document.querySelectorAll("[data-toggle]").forEach((e=>{var t=e.getAttribute("data-toggle"),l=[],o=e.getAttribute("data-toggle-action"),s=o&&["open","close","toggle"].includes(o)?o:"toggle";if(t)if("next"===t)l=[e.nextElementSibling];else if("hover"===t)l=[e.nextElementSibling];else{if(t.indexOf("{")>-1&&t.indexOf("}")>0)l=e.closest(t.substring(t.indexOf("{")+1,t.indexOf("}"))).querySelectorAll(t.substring(t.indexOf("}")+1));else l=document.querySelectorAll(t)}else l=[e];l.length&&l.forEach((t=>{var l=!1,o=!1;this.elements.forEach((i=>{i.el===t&&(l=!0,o=!1,i.togglers.forEach((t=>{t.el===e&&(o=!0)})),o||i.togglers.push({el:e,action:s}))})),l||this.elements.push({el:t,togglers:[{el:e,action:s}]})}))})),document.addEventListener("click",this.closeAllTogglesBound),document.addEventListener("keyup",this.closeAllTogglesBound),document.querySelectorAll("[data-toggle-timeout]").forEach((e=>{e.removeEventListener("click",this.timeoutToggleBound),e.addEventListener("click",this.timeoutToggleBound)})),document.querySelectorAll("[data-toggle-close]").forEach((e=>{e.removeEventListener("click",this.closeToggleBound),e.addEventListener("click",this.closeToggleBound),e.removeEventListener("keyup",this.closeToggleBound),e.addEventListener("keyup",this.closeToggleBound)})),this.elements.forEach((e=>{e.togglers.forEach((e=>{e.el.removeEventListener("click",this.toggleBound),e.el.addEventListener("click",this.toggleBound),e.el.removeEventListener("keyup",this.toggleBound),e.el.addEventListener("keyup",this.toggleBound),e.el.removeEventListener("keydown",this.toggleBound),e.el.addEventListener("keydown",this.toggleBound)}))}))};static loadSliders=function(){document.querySelectorAll(".slider").forEach((e=>{if(!e.hasAttribute("data-loaded")){var t=parseInt(e.getAttribute("data-play")),l=e.hasAttribute("data-loop"),o=e.getAttribute("data-stop"),s=e.querySelector(".slider-slides"),i=s.childElementCount,r=e.querySelector(".slider-next"),n=e.querySelector(".slider-prev"),a=e.querySelector(".slider-pagination"),c=s.scrollWidth,d=s.innerHTML,u=null,g=null,h=!1;if(r||n||l||o||t){var goTo=(t,o)=>{var r=l?i:0;"next"===t?s.scrollBy(e.offsetWidth,0):"prev"===t?s.scrollBy(-s.offsetWidth,0):s.scrollTo({left:s.children[t+r].offsetLeft,behavior:o?"instant":"smooth"})},resetPlay=()=>{g&&(clearInterval(g),g=null),t&&(g=setInterval((()=>{var t="action"===o&&(e.querySelector("a:hover")||e.querySelector("button:hover")),l="hover"===o&&e.matches(":hover");t||l||goTo("next")}),t))};if(r&&r.addEventListener("click",(()=>{goTo("next")})),n&&n.addEventListener("click",(()=>{goTo("prev")})),a&&!a.childNodes.length&&s&&i)for(let e=0;e<i;e++){let t=document.createElement("button");0===e&&t.classList.add("active"),t.onclick=()=>{goTo(e),a.childNodes.forEach((e=>{e.classList.remove("active")})),t.classList.add("active")},a.append(t)}s.addEventListener("scroll",(()=>{e.setAttribute("data-sliding",""),e.removeAttribute("data-position"),u&&clearTimeout(u),g&&(clearInterval(g),g=null),u=setTimeout((function(){if(e.removeAttribute("data-sliding"),resetPlay(),l){var t=s.scrollWidth/3;if(s.scrollLeft<t){var o=t-s.scrollLeft;s.scrollTo({left:2*t-o,behavior:"instant"})}if(s.scrollLeft>=2*t){o=s.scrollLeft-2*t;s.scrollTo({left:t+o,behavior:"instant"})}}else s.scrollLeft?s.scrollLeft+e.offsetWidth>=s.scrollWidth-2&&e.setAttribute("data-position","end"):e.setAttribute("data-position","start");e.querySelectorAll(".slider-slides > *").forEach((t=>{t.removeAttribute("data-first"),t.removeAttribute("data-last");var l=Math.round(t.getBoundingClientRect().left-e.getBoundingClientRect().left);t.toggleAttribute("data-showing",l>=0&&l<e.clientWidth)}));var r=e.querySelectorAll("[data-showing]");if(r.length){if(a){a.querySelectorAll(".active").forEach((e=>{e.classList.remove("active")}));var n=Array.from(s.children).indexOf(r[0]);l&&(n=n===2*i?0:n-i),void 0!==n&&a.children[n].classList.add("active")}r[0].setAttribute("data-first",""),r[r.length-1].setAttribute("data-last","");var preLoadImages=function(e,t,l){for(var o=0,s=[];e="next"===t?e.nextSibling:e.previousSibling;)o>=l||!e.nodeType||3===e.nodeType||("IMG"===e.tagName&&"lazy"===e.getAttribute("loading").toLowerCase()?s.push(e.src):e.querySelectorAll('img[loading="lazy"]').forEach((e=>{s.push(e.src)})),o++);s.forEach((e=>{(new Image).src=e}))};preLoadImages(e.querySelector("[data-last]"),"next",r.length),preLoadImages(e.querySelector("[data-last]"),"prev",r.length)}}),100)})),l?(s.innerHTML+=d+d,s.scrollTo({left:c,behavior:"instant"})):(s.dispatchEvent(new CustomEvent("scroll")),e.setAttribute("data-position","start")),resetPlay(),t&&("hover"===o&&(e.addEventListener("mouseout",(()=>{resetPlay()})),e.addEventListener("mouseover",(()=>{g&&(clearInterval(g),g=null)}))),"action"===o&&(document.addEventListener("selectionchange",(()=>{h&&document.getSelection().toString()&&g&&(clearInterval(g),g=null),h||document.getSelection().toString()||g||resetPlay()})),e.addEventListener("selectstart",(()=>{h=!0})),e.addEventListener("mouseup",(()=>{h=!1})))),e.setAttribute("data-loaded","")}}}))};static navigateList=function(e){var t=e.target.closest(".list.navigable");if(t&&[37,38,39,40,13,32,27].includes(e.keyCode)){var l=t.querySelector("li:focus-within");if(l||(l=t.querySelector(":focus")),l)if(27===e.keyCode)e.target.blur();else if([13].includes(e.keyCode)&&["LABEL","INPUT"].includes(e.target.tagName))e.preventDefault(),e.target.click();else if([37,38,39,40].includes(e.keyCode)){e.preventDefault();var o="UL"===t.children[0].tagName?t.children[0].children:t.children,s=[...o].indexOf(l);if(s>-1){if((r=o[i=[39,40].includes(e.keyCode)?s+1:s-1])&&"LI"===r.tagName&&!r.querySelector("a, button, .button, input"))var i,r=o[i=[39,40].includes(e.keyCode)?i+1:i-1];if(r&&r.children&&r.children[0])if(r=r.children[0],!["A","BUTTON","LABEL","INPUT"].includes(r.tagName))[39,40].includes(e.keyCode)?i++:i--,(r=o[i])&&r.children&&r.children[0]&&(r=r.children[0]);r&&r.focus()}}}};static loadLists=function(){document.querySelectorAll(".list.navigable").forEach((e=>{e.removeEventListener("keydown",this.navigateList),e.addEventListener("keydown",this.navigateList)}))};static loadHas=function(){document.querySelectorAll("li > .icon").forEach((e=>{e.parentElement.classList.add("has-icon")})),document.querySelectorAll("article > header").forEach((e=>{e.parentElement.classList.add("has-header")})),document.querySelectorAll("article > footer").forEach((e=>{e.parentElement.classList.add("has-footer")})),document.querySelectorAll("article > img").forEach((e=>{e.parentElement.classList.add("has-img")})),document.querySelectorAll(".tooltip").forEach((e=>{e.parentElement.classList.add("has-tooltip")})),document.querySelectorAll("[data-toggle] svg:nth-of-type(2)").forEach((e=>{e.closest("[data-toggle]").classList.add("has-2svg")})),document.querySelectorAll("label > sup").forEach((e=>{e.closest("label").classList.add("has-sup")})),document.querySelectorAll("label > sub").forEach((e=>{e.closest("label").classList.add("has-sub")})),document.querySelectorAll("input, textarea, select").forEach((e=>{var t=e.closest("label");t&&e.addEventListener("blur",(e=>{console.log(123),e.target.value?t.classList.add("has-blank"):t.classList.remove("has-blank")}))}))};static getScrollSpyAnchors=function(){var e=document.querySelectorAll('.scrollspy [href^="#"]'),t=[];return e.length&&e.forEach((e=>{var l=e.getAttribute("href").substring(1);document.querySelectorAll('[id="'+l+'"], a[name="'+l+'"]').forEach((o=>{var s=o.getBoundingClientRect();t.push({id:l,top:s.y+window.scrollY-100,link:e})}))})),t.reverse()};static loadScrollSpy=function(){setTimeout((()=>{var e,t=this.getScrollSpyAnchors();t.length&&(window.addEventListener("scroll",(()=>{let e=window.scrollY;t.forEach((e=>{e.link.classList.remove("active")}));for(let o in t){var l=t[o];if(e>l.top){l.link.classList.add("active");break}}})),window.addEventListener("resize",(()=>{clearTimeout(e),e=setTimeout((()=>{t=this.getScrollSpyAnchors()}),100)})))}),1e3)};static closeToggleBound=this.closeToggle.bind(this);static timeoutToggleBound=this.timeoutToggle.bind(this);static closeAllTogglesBound=this.closeAllToggles.bind(this);static toggleBound=this.toggle.bind(this)}"complete"===document.readyState||"interactive"===document.readyState?(Spry.loadScrollSpy(),Spry.loadToggles(),Spry.loadSliders(),Spry.loadLists(),Spry.loadHas()):(document.addEventListener("DOMContentLoaded",Spry.loadScrollSpy),document.addEventListener("DOMContentLoaded",Spry.loadToggles),document.addEventListener("DOMContentLoaded",Spry.loadSliders),document.addEventListener("DOMContentLoaded",Spry.loadLists),document.addEventListener("DOMContentLoaded",Spry.loadHas));