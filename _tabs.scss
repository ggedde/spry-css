/*!
* Spry Tabs
*/
@use "variables"as *;

[role=tablist] {
	display  : flex;
	flex-wrap: wrap;
}

[role=tablist] [role=tab] {
	display         : flex;
	flex            : auto;
	background-color: rgba(var(--color-rgb), .1);
	border-color    : transparent;
	color           : var(--color-contrast);
	border-radius   : 0;

	input {
		opacity: 0;
	}

	&:hover,
	&:focus-within {
		background-color: rgba(var(--color-rgb), .2);
	}

	&:has(:checked) {
		box-shadow: inset 0 -2px 0 var(--color);
	}

	.slider & {
		white-space: nowrap;
	}
}

[role=tabpanel] {
	transition: none;
	transform : translateY(3px);
	max-height: 0;
	opacity   : 0;
	order     : 9999;
}

[role=tablist] {
	&.vertical {
		display: grid;

		[role=tabpanel] {
			grid-column: 2;
			grid-row   : 1 / 9999;
		}

		[role=tab] {
			justify-content: flex-start;
			text-align     : left;

			&:has(:checked) {
				box-shadow: inset 2px 0 0 var(--color);
			}
		}
	}

	@each $breakpoint,
	$breakpoint_width in $breakpoints {
		@media screen and (min-width: $breakpoint_width) {
			&.#{$breakpoint}-vertical {
				display: grid;

				[role=tabpanel] {
					grid-column: 2;
					grid-row   : 1 / 9999;
				}

				[role=tab] {
					justify-content: flex-start;
					text-align     : left;

					&:has(:checked) {
						box-shadow: inset 2px 0 0 var(--color);
					}
				}
			}
		}
	}

	&.tabs-right {
		[role=tabpanel] {
			grid-column: 1;
			grid-row   : 1 / 9999;
		}

		[role=tab] {
			grid-column: 2;
		}
	}
}

[role=tab]:has(:checked)+[role=tabpanel] {
	max-height: 100vh;
	opacity   : 1;
	transform : none;
	transition: opacity .2s ease-in-out, transform .3s ease-out;
	padding   : 2em;
	z-index: 1;
}