/*!
* Spry Icons
*/
@use "ui" as *;

// i:empty, .icon {
// 	@extend %ui-color;
// }

:is(i:empty, .icon:empty):is(.outline, .hazy) {
	width : 2em;
	height: 2em;
}

button svg,
.button svg,
.alert svg,
i svg,
.icon svg {
	width : 1.25em;
	height: 1.25em;
}

button,
.button,
.icon,
a:has(svg),
i:has(svg) {
	position: relative;
}

:is(a, button, .button) :is(i:empty, .icon) {
	pointer-events: none;
}

[data-toggle] svg:nth-of-type(2),
[data-toggle][aria-pressed=true] svg:first-of-type {
	opacity  : 0;
	transform: scale(.5);
}

[data-toggle][aria-pressed=true] svg:last-of-type {
	opacity  : 1;
	transform: scale(1);
}

.icon {
	padding: 0;
}

.icon,
i:empty,
i:has(svg) {
	position: relative;
	display : inline-flex;
	width   : 1.25em;
	height  : 1.25em;
}

i:has(svg) {
	min-width   : 1.25em;
	min-height  : 1.25em;
}

.icon svg,
i svg {
	position: absolute;
	margin  : auto;
	inset   : 0;
	fill    : currentColor;
	width   : 1.25em;
	height  : 1.25em;
}

:is(i:empty, .icon) {

	// color: var(--text-color);

	&:is(.up, .down, .prev, .next, .close, .menu)::after {
		border       : .15em solid var(--text-color);
		border-left  : 0;
		border-bottom: 0;
		width        : .7em;
		height       : .7em;
		transform    : rotate(135deg) translate(-.1em, .1em);
	}

	&::before,
	&::after {
		content   : '';
		position  : absolute;
		margin    : auto;
		inset     : 0;
		display   : block;
		transition: all .25s cubic-bezier(.25, .8, .25, 1);
	}

	&.text-right::before {
		order: -2;
	}

	&.text-right::after {
		order: -1;
	}

	&.up::after {
		transform: rotate(315deg) translate(-.1em, .1em);
	}

	&.next::after {
		transform: rotate(45deg) translate(-.1em, .1em);
	}

	&.prev::after {
		transform: rotate(225deg) translate(-.1em, .1em);
	}

	&:is(.menu, .close) {

		&::before,
		&::after {
			content         : '';
			background-color: var(--text-color);
			height          : 1.2em;
			margin          : auto;
			width           : .12em;
			box-shadow      : none;
		}

		&::before {
			transform: rotate(45deg);
			order    : 1;
		}

		&::after {
			transform: rotate(-45deg);
		}
	}

	&.menu:not([aria-pressed=true]) {

		&::before,
		&::after {
			background-color: var(--text-color);
			transform       : translate(0, -.4em) rotate(90deg);
			height          : 1.4em;
			width           : .12em;
			border          : 0;
		}

		&::after {
			transform : translate(0, .4em) rotate(-90deg);
			box-shadow: .4em 0 0 var(--text-color);
		}

		&:focus {
			box-shadow: none;
		}
	}
}

[data-toggle=hover].hoverable:hover .icon::after,
[data-toggle=hover].hoverable:hover i:empty::after,
i:empty[aria-pressed=true]::after,
.icon[aria-pressed=true]::after,
[aria-pressed=true] > .icon::after,
[aria-pressed=true] > i:empty::after {
	rotate: 180deg;
}